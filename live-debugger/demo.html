<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Debugger Demo</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #1a1a2e;
            color: #eee;
            line-height: 1.6;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
        }
        h1 { margin: 0; color: #0f0; }
        nav { display: flex; gap: 15px; align-items: center; }
        nav a { color: #888; text-decoration: none; }
        nav a:hover { color: #0f0; }
        .section {
            background: #16213e;
            padding: 24px;
            border-radius: 8px;
            margin-bottom: 24px;
            border: 1px solid #333;
        }
        h2 { color: #0f0; margin-top: 0; font-size: 18px; }
        p { color: #aaa; margin: 0 0 16px 0; }
        button {
            background: #0f0;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin: 4px;
        }
        button:hover { background: #00cc00; }
        button.secondary { background: #4a90e2; color: white; }
        button.danger { background: #ff6b6b; color: white; }
        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #333;
            border-radius: 4px;
            background: #0d1b2a;
            color: #eee;
            font-size: 14px;
            margin-bottom: 12px;
        }
        input:focus, textarea:focus { outline: none; border-color: #0f0; }
        .buttons { display: flex; flex-wrap: wrap; gap: 8px; }
        .note {
            background: #0d1b2a;
            padding: 16px;
            border-radius: 4px;
            border-left: 3px solid #0f0;
            margin-bottom: 24px;
        }
        footer { text-align: center; color: #666; margin-top: 40px; padding-top: 20px; border-top: 1px solid #333; }
        a { color: #4a90e2; }
    </style>
</head>
<body>
    <header>
        <h1>Live Debugger</h1>
        <nav>
            <a href="https://github.com/kckassette/MemorySpaceFeatures">GitHub</a>
        </nav>
    </header>

    <div class="note">
        <strong>How to use:</strong> Click the <strong>Debug</strong> button (top right) to open the console. 
        Then interact with the elements below - every action is logged in real-time.
    </div>

    <section class="section">
        <h2>Click Events</h2>
        <p>Click any button to see it logged:</p>
        <div class="buttons">
            <button id="btn-primary">Primary Action</button>
            <button class="secondary" id="btn-secondary">Secondary</button>
            <button class="danger" id="btn-danger">Danger Zone</button>
        </div>
    </section>

    <section class="section">
        <h2>Input Events</h2>
        <p>Type in these fields to see input tracking:</p>
        <input type="text" placeholder="Type something here..." id="demo-input">
        <textarea placeholder="Or type a longer message..." rows="3" id="demo-textarea"></textarea>
    </section>

    <section class="section">
        <h2>Form Submission</h2>
        <p>Submit this form to see form events:</p>
        <form id="demo-form">
            <input type="text" placeholder="Your name" id="name-input" required>
            <input type="email" placeholder="Your email" id="email-input" required>
            <button type="submit">Submit Form</button>
        </form>
    </section>

    <section class="section">
        <h2>Network Requests</h2>
        <p>Trigger fetch requests to see network logging:</p>
        <div class="buttons">
            <button id="btn-fetch">Fetch API Call</button>
            <button class="secondary" id="btn-fetch-error">Fetch (with error)</button>
        </div>
    </section>

    <section class="section">
        <h2>Error Tracking</h2>
        <p>Trigger errors to see them captured:</p>
        <div class="buttons">
            <button class="danger" id="btn-error">Throw Error</button>
            <button class="danger" id="btn-promise">Promise Rejection</button>
        </div>
    </section>

    <footer>
        <p><strong>Live Debugger</strong> - Part of <a href="https://github.com/kckassette/MemorySpaceFeatures">MemorySpace Features</a></p>
        <p>MIT Licensed</p>
    </footer>

    <!-- Load the debugger -->
    <script src="debugger.js"></script>
    <script>
        // Initialize with debugging enabled
        LiveDebugger.init({
            enabled: true,
            maxEntries: 200,
            persistLogs: false
        });

        // Form submission
        document.getElementById('demo-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Form submitted! Check the debug console.');
        });

        // Fetch success
        document.getElementById('btn-fetch').addEventListener('click', function() {
            fetch('https://jsonplaceholder.typicode.com/posts/1')
                .then(function(res) { return res.json(); })
                .then(function(data) {
                    console.log('Fetched:', data.title);
                    alert('Fetch successful! Check debug console.');
                });
        });

        // Fetch error
        document.getElementById('btn-fetch-error').addEventListener('click', function() {
            fetch('https://httpstat.us/500')
                .then(function(res) {
                    if (!res.ok) throw new Error('Server returned ' + res.status);
                    return res.json();
                })
                .catch(function(err) {
                    console.error('Fetch error:', err.message);
                });
        });

        // Throw error
        document.getElementById('btn-error').addEventListener('click', function() {
            throw new Error('This is a test error!');
        });

        // Promise rejection
        document.getElementById('btn-promise').addEventListener('click', function() {
            Promise.reject(new Error('This promise was rejected!'));
        });
    </script>
</body>
</html>
